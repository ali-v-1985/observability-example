# OpenTelemetry Java Agent Configuration for Sidecar Instrumentation

# Service identification
otel.service.name=observability-example
otel.service.version=1.0.0

# Resource attributes
otel.resource.attributes=service.name=observability-example,service.version=1.0.0,deployment.environment=development

# Exporters configuration
otel.exporter.otlp.endpoint=http://alloy:14318
otel.exporter.otlp.protocol=http/protobuf

# Traces configuration
otel.traces.exporter=otlp
otel.traces.sampler=traceidratio
otel.traces.sampler.arg=1.0

# Metrics configuration  
otel.metrics.exporter=otlp,prometheus
otel.prometheus.port=9464


# Instrumentation configuration
otel.instrumentation.spring-webmvc.enabled=true
otel.instrumentation.spring-web.enabled=true
otel.instrumentation.spring-boot.enabled=true
otel.instrumentation.jdbc.enabled=true


# Runtime metrics
otel.runtime-telemetry.enabled=true

# Experimental features
otel.experimental.sdk-extension-enabled=true
otel.experimental.logging-support-enabled=true

# Batching configuration for better performance and resilience
otel.bsp.schedule.delay=1000
otel.bsp.max.queue.size=4096
otel.bsp.max.export.batch.size=512
otel.bsp.export.timeout=30000

# Retry configuration for resilience
otel.exporter.otlp.retry.enabled=true
otel.exporter.otlp.retry.initial_interval=1000
otel.exporter.otlp.retry.max_interval=5000
otel.exporter.otlp.retry.max_elapsed_time=30000

# Connection settings for resilience
otel.exporter.otlp.compression=gzip
otel.exporter.otlp.timeout=10000

# Logging level
otel.javaagent.logging=application
